include ../input/input

mixin dateDropdown(options)
  if !options
    - options = {}

  if options.mode === "filter"
    .date-dropdown.js-filter
      .date-dropdown__body
        +datePicker(options.filter, options.mode, className = "js-input")
      .date-dropdown__calendar.js-calendar

  if options.mode === "range"
    .date-dropdown.date-dropdown--range.js-range
      .date-dropdown__body
        +datePicker(options.from, options.mode, className = "js-from")
        +datePicker(options.to, options.mode, className = "js-to")
      .date-dropdown__calendar.js-calendar

mixin datePicker(options, mode, className)
  if !options
    - options = {}

  if !options.attributes
    - options.attributes = {}

  -
    options.attributes.class = []
    options.attributes.class.push("date-dropdown__input")
    options.attributes.type = "text"
    options.attributes.readonly = true

    if (className) {
      options.attributes.class.push(className)
    }

    if (mode === "range") {
      options.isDateMask = true
    }

  label.date-dropdown__picker
    span.date-dropdown__label= options.label
    +input(options)
